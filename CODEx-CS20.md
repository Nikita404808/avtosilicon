# CODEx — CS20 Clone Guidelines

Документ фиксирует договорённости по фронтенд-реализации публичных страниц cs20.ru.

## 1. Стек

- Vue 3 (script setup, Composition API)
- Vite + TypeScript
- Pinia для состояний (`cart`, `auth`, `catalog`)
- Vue Router (history)
- Swiper для каруселей
- SCSS с токенами (см. `src/styles/tokens.scss`)
- ESLint + Prettier + lint-staged + husky

## 2. Структура разделов

| Route | Страница | Ключевые блоки |
| --- | --- | --- |
| `/` | Главная | Hero, «О продукции» (табы), «Жизнь компании», отзывы, достижения, новости, бэнд «Доставка/Оплата/Гарантия» |
| `/catalog` | Каталог | Фильтры по марке/модели/категориям, грид товаров, пагинация, поиск |
| `/catalog/:slug` | Карточка товара | Галерея, BuyBox, характеристики, совместимость, связанные товары, блок «Может подойти» |
| `/articles` | Новости/статьи | Чипсы-рубрики, сетка, пагинация |
| `/about` | О компании | KPI, слайдер упаковки, карточки мероприятий, ссылка на гарантию |
| `/contacts` | Контакты | Контактные данные, маркетплейсы, карта-заглушка |
| `/info/*` | Гарантия, доставка, оплата | Аккордеоны/списки FAQ |
| `/policy` | Политика конфиденциальности | Текстовые секции |

## 3. Поведение

- Липкий хедер, мини-корзина с суммой и количеством.
- Фильтры каталога синхронизированы с URL (`q`, `make`, `model`, `cat`, `page`).
- Каталог и новости используют пагинацию.
- Карусели Swiper: отзывы, достижения, упаковка на about.
- Модалки (auth, корзина) с блокировкой скролла и ловушкой фокуса.

## 4. Дизайн-токены

Перечень переменных см. в `src/styles/tokens.scss`:

- Сетка: `--container-max: 1200px`, `--gutter: 24px`
- Отступы: `--space-1 .. --space-8` (4–48 px)
- Радиусы: `--radius-sm/md/lg`
- Типографика: `--fz-*`, `--lh-*`
- Цветовые токены: `--brand-primary`, `--accent`, `--bg`, `--surface`, `--text-primary`, ...
- Тени: `--shadow-sm/md/lg`

Правило: никакие жёстко прибитые числа не используются вне токенов.

## 5. Макеты и ассеты

- В `public/placeholder` лежат SVG-заглушки для карточек, иконок, маркетплейсов.
- Настоящие изображения из Strapi или CDN подставляются поверх при интеграции.
- Для галерей товаров используется квадратный кроп 1:1, lazy loading (`loading="lazy"`).

## 6. Мок-данные

- `src/mocks/products.json` — 20 товаров с характеристиками, категориями, совместимостью.
- `src/mocks/categories.json` — фасеты каталога.
- `src/mocks/makes-models.json` — дерево марка → модель.
- `src/mocks/articles.json` — статьи с тегами (news/reviews/tests).

При подключении Strapi/реального API моки заменяются запросами, но структуры объектов должны сохраниться.

## 7. Чек-лист DoD

- [ ] Страницы и блоки соответствуют описанию в разделе 2.
- [ ] Структура и отступы укладываются в 8px-сетку, токены соблюдены.
- [ ] Карточки и buybox используют stepper, корзина синхронно обновляет сумму/количество.
- [ ] Фильтры каталога ↔ URL, пагинация работает.
- [ ] Модальные окна закрываются по Esc, клику по фону, сохраняют фокус.
- [ ] Карусели работают на десктопе и мобиле (стрелки/свайп).
- [ ] Lighthouse (desktop/mobile) ≥ 90 по Perf/A11y/SEO (при интеграции реальных ресурсов — сделать скрин/JSON и положить в `tests/lighthouse`).

## 8. Дальшие шаги

- Интеграция со Strapi (каталог, статьи).
- Добавление e2e/UI-тестов.
- Реализация корзины и авторизации в связке с API.
- Подготовка пиксель-пёрфект оверлеев и автоматических визуальных регресс-тестов.

Настоящий файл служит источником правды для команды, обновляйте его при изменении требований.
